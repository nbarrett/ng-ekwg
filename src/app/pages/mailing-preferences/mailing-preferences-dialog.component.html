<div [ngClass]="{'busy': notify.busy}" class="modal" id="mailing-preferences-dialog" tabindex="-1" role="dialog" data-backdrop="true" aria-labelledby="modal-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="mailing-preferences-form">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="mailing-preferences-modal-title-heading">Your <em>EKWG</em> profile</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col col-sm-12">
                            <p>In order to comply with the EU General Data Protection Regulation (GDPR), we need to confirm some details with you. Please make any changes you need and then click
                                <b>Confirm these changes</b> below.
                                If you click <b>Continue without confirming</b>, you'll get prompted each time you login.</p>

                            <div class="well well-subscriptions-confirmation">
                                <p class="well-heading">Please select how you want to be <b>emailed</b> by us using the following subscription checkboxes below:</p>

                                <div class="checkbox-group">
                                    <label [ngClass]="{'ui-state-active': member.mailchimpLists.walks.subscribed}" for="prefs-subscribe-walks-emails">Walks emails
                                        <input [(ngModel)]="member.mailchimpLists.walks.subscribed" type="checkbox" id="prefs-subscribe-walks-emails">
                                    </label>
                                    <label [ngClass]="{'ui-state-active': member.mailchimpLists.socialEvents.subscribed}" for="prefs-subscribe-social-events-emails">Social events emails
                                        <input [(ngModel)]="member.mailchimpLists.socialEvents.subscribed" type="checkbox" id="prefs-subscribe-social-events-emails">
                                    </label>
                                    <label [ngClass]="{'ui-state-active': member.mailchimpLists.general.subscribed}" for="prefs-subscribe-general-emails">General emails
                                        <input [(ngModel)]="member.mailchimpLists.general.subscribed" type="checkbox" id="prefs-subscribe-general-emails">
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col col-sm-12">
                            <div class="well well-subscriptions-confirmation">
                                <p class="well-heading">Please confirm the following <b>contact details</b> we hold for you. We'll use these when we need to contact you:</p>

                                <div class="row">
                                    <div class="col col-sm-6">
                                        <div class="form-group">
                                            <label for="first-name">First Name</label>
                                            <input [(ngModel)]="member.firstName" type="text" class="form-control input-sm" id="first-name"
                                                   placeholder="Enter First Name here">
                                        </div>
                                    </div>
                                    <div class="col col-sm-6">
                                        <div class="form-group">
                                            <label for="last-name">Last Name</label>
                                            <input [(ngModel)]="member.lastName" type="text" required class="form-control input-sm" id="last-name"
                                                   placeholder="Enter Last Name here">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col col-sm-6">
                                        <div class="form-group">
                                            <label for="mobile-number">Mobile Number</label>
                                            <input [(ngModel)]="member.mobileNumber" type="text" required class="form-control input-sm" id="mobile-number"
                                                   placeholder="Enter mobile number here">
                                        </div>
                                    </div>
                                    <div class="col col-sm-6">
                                        <div class="form-group">
                                            <label for="contact-email">Contact Email</label>
                                            <input [(ngModel)]="member.email" type="text" required class="form-control input-sm" id="contact-email"
                                                   placeholder="Enter contact email here">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="notify.showAlert" class="row mb-12">
                                <div class="col col-sm-12">
                                    <div class="alert {{notify.alertClass}}"><i
                                        class="glyphicon {{notify.alert.icon}}"> </i><strong *ngIf="notify.alertTitle">
                                        {{notify.alertTitle}}: </strong> {{notify.alertMessage}}
                                        <span *ngIf="notify.showContactUs"> or contact our
                                            <contact-us class="alert-link" role="membership"
                                                        text="Membership Administrator"></contact-us>.
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="row col-sm-12">
                        <input type="submit" value="Confirm these changes" (click)="actions.save()" title="Confirm these changes" [ngClass]="notify.busy ? 'disabled-button-form button-form-left': 'button-form button-form-left'">
                        <input type="submit" value="Continue without confirming" (click)="actions.close()" title="Continue without confirming" [ngClass]="notify.busy ? 'disabled-button-form button-form-left': 'button-form button-form-left'">
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
